<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <title>Assignment 2</title>
    </head>
    <body>
        <ol id="fruits">
            <li>Grape</li>
            <li>Banana</li>
            <li>Apple</li>
            <li>Kiwi</li>
            <li>Orange</li>
            <li>Blueberry</li>
            <li>Strawberry</li>
            <li>Raspberry</li>
            <li>Lemon</li>
            <li>Peach</li>
            <li>Melon</li>
            <li>Pineapple</li>
        </ol>
        <script>
            // Instructions / Rules:
            /*
            1. The HTML Content must NOT be edited. Only the script tag contents can be edited.

            2. get all the values of li 'ol#fruits' element and store it in an array called fruits. You may store the fruits elementNode in the variable fruitsEl.
            3. console.log the values of fruits variable.

            4. Create a section tag with ordered list of fruits that DOES NOT end with "berry", you must use a function that you will create and call generateList(values, title).
            5. Inside the newly created "section", you will add an h3 with the value of "Non-berries" passed as a second argument of the generateList function.
            6. You may store the Non-berries in a variable nonBerries;

            7. Uncomment the last generateList call (the one your names array). lols.

            8. Recommended structure is available below.
            */

            var fruitsEl = document.getElementById('fruits').children, //find 'li'
                fruitsItemLen = fruitsEl.length, //count the number of LIs
                fruits = [], //create an empty fruits array
                nonBerries = []; //create an empty nonBerries array


            for (var count = 0; count < fruitsItemLen; count++) { 

                fruits.push(fruitsEl[count].innerHTML);  

                var matchPattern = /.*berry+/, //find every item that ends with 'berry'
                    hideFruits = matchPattern.exec(fruitsEl[count].innerHTML) + ""; //convert it to string
                    fruitStrings = fruits[count].toString(); //convert all items to string   

                if (fruitStrings !== hideFruits) { // if a string doesn't end with berry, display it
                    nonBerries.push(fruitStrings); // put items into Non-berries array
                }

            }

            console.log(fruits);

        
            var generateList = function (values, title) {

                var fruitContainer = document.createElement('section'), 
                    scriptTag = document.getElementsByTagName('script')[0],
                    containerTitleTag = document.createElement('h3'),
                    orderedList = document.createElement('ol');

                //insert section before the script tag
                document.body.insertBefore(fruitContainer, scriptTag);
                fruitContainer.appendChild(containerTitleTag);

                //display the section title
                containerTitleTag.innerHTML = title;

                //insert ordered list after the title
                containerTitleTag.parentNode.insertBefore(orderedList, containerTitleTag.nextSibling);

                //we must know first how many values our arrays have
                var arrayCount = values.length;


                for (i = 0; i < arrayCount; i++) {
                    var listItem = document.createElement('li'), //create LI tags
                        items = values[i]; //get array values

                    orderedList.appendChild(listItem); //add LI to the ol tag
                    listItem.innerHTML = items; //add values

                }

            };
            
            generateList(nonBerries, 'Non-berries');
            generateList(['April', 'Exi', 'Mikko', 'Darren', 'Hector'], 'Lols');
        </script>
    </body>
</html>
